<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Healthpixel | Propuesta Clínica Indisa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Typography: Academic Pairing */
        @import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700;900&family=Lato:wght@300;400;700&display=swap');

        body {
            font-family: 'Lato', sans-serif;
            background-color: #ffffff;
            color: #334155;
            /* Slate 700 */
        }

        h1,
        h2,
        h3,
        h4,
        .serif-font {
            font-family: 'Merriweather', serif;
        }

        /* Medical/Academic Palette */
        .text-primary {
            color: #004d7a;
        }

        /* Indisa/Medical Blue */
        .bg-primary {
            background-color: #004d7a;
        }

        .text-accent {
            color: #00bfa5;
        }

        /* Teal/Surgical Green */
        .bg-accent {
            background-color: #00bfa5;
        }

        .text-alert {
            color: #c0392b;
        }

        /* Clinical Alert */

        /* Chart Container Rules */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }

        @media (max-width: 640px) {
            .chart-container {
                height: 300px;
            }
        }

        /* Academic Card Styling - Clean Borders, Subtle Shadows */
        .academic-card {
            background: #ffffff;
            border: 1px solid #e2e8f0;
            border-top: 4px solid #004d7a;
            /* Top accent */
            padding: 2rem;
        }

        /* Print Optimization */
        @media print {

            nav,
            button,
            footer {
                display: none !important;
            }

            body {
                background-color: white;
            }

            .shadow-lg,
            .shadow-xl {
                box-shadow: none !important;
            }

            .max-w-7xl {
                max-width: 100% !important;
                margin: 0 !important;
                padding: 0 !important;
            }

            header {
                padding-top: 20px !important;
                padding-bottom: 20px !important;
            }

            /* Force break pages if necessary */
            section {
                page-break-inside: avoid;
                margin-bottom: 2rem;
            }
        }
    </style>
</head>

<body class="antialiased">

    <!-- Sticky Nav (Hidden on Print) -->
    <nav class="sticky top-0 z-50 bg-white border-b border-gray-200 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <div class="flex items-center gap-3">
                    <!-- Simple Logo Placeholder -->
                    <div
                        class="w-8 h-8 bg-primary rounded-sm flex items-center justify-center text-white font-serif font-bold">
                        H</div>
                    <div>
                        <div class="font-serif font-bold text-2xl text-primary tracking-tight">Healthpixel</div>
                        <div class="text-xs text-gray-500 uppercase tracking-widest">Medical Solutions</div>
                    </div>
                </div>
                <div class="hidden md:flex space-x-8 text-sm font-medium text-gray-600">
                    <span class="px-3 py-1 bg-blue-50 text-primary rounded-full text-xs font-bold uppercase">Cliente:
                        Clínica Indisa</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Header Section -->
    <header class="bg-slate-50 border-b border-gray-200 pt-16 pb-16 px-4">
        <div class="max-w-5xl mx-auto text-center">
            <div
                class="inline-block mb-4 px-4 py-1 border border-blue-200 bg-white rounded-full text-primary text-sm font-semibold tracking-wide uppercase">
                Propuesta Técnica v2.0
            </div>
            <h1 class="text-4xl md:text-5xl font-black mb-6 text-gray-900 leading-tight">
                Sistema de Orquestación Quirúrgica
            </h1>
            <p class="text-xl text-gray-600 mb-8 max-w-3xl mx-auto font-light leading-relaxed">
                Implementación de Agentes Cognitivos (IA) para la optimización de flujos de coordinación médica en
                <strong>Clínica Indisa</strong>.
            </p>

            <div class="grid grid-cols-3 gap-8 max-w-3xl mx-auto mt-12 border-t border-gray-200 pt-8">
                <div class="text-center">
                    <div class="text-3xl font-serif font-bold text-primary">92%</div>
                    <div class="text-xs text-gray-500 uppercase mt-1">Eficiencia de Margen</div>
                </div>
                <div class="text-center border-l border-r border-gray-200">
                    <div class="text-3xl font-serif font-bold text-primary">$40 USD</div>
                    <div class="text-xs text-gray-500 uppercase mt-1">OPEX IA Mensual</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-serif font-bold text-primary">0</div>
                    <div class="text-xs text-gray-500 uppercase mt-1">Errores Críticos</div>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-5xl mx-auto px-6 py-16 space-y-20">

        <!-- Architecture Section -->
        <section id="tech">
            <div class="mb-8 border-b border-gray-200 pb-4">
                <h2 class="text-2xl font-bold text-gray-900">1. Arquitectura de Sistemas</h2>
                <p class="text-gray-500 mt-2">Enfoque "Lean Architecture" priorizando estabilidad y costos.</p>
            </div>

            <div class="academic-card shadow-sm">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Component 1 -->
                    <div>
                        <h4 class="font-bold text-primary mb-2 text-lg">Motor Cognitivo</h4>
                        <p class="text-sm font-semibold text-gray-900 mb-1">Claude Haiku 4.5</p>
                        <p class="text-xs text-gray-500 leading-relaxed">Modelo de última generación. Input $1/MTok,
                            Output $5/MTok. Baja latencia y alta precisión en terminología médica.</p>
                    </div>
                    <!-- Component 2 -->
                    <div>
                        <h4 class="font-bold text-primary mb-2 text-lg">Interfaz</h4>
                        <p class="text-sm font-semibold text-gray-900 mb-1">WhatsApp (Baileys)</p>
                        <p class="text-xs text-gray-500 leading-relaxed">Canal ubicuo para el staff médico. Cero
                            fricción de adopción.</p>
                    </div>
                    <!-- Component 3 -->
                    <div>
                        <h4 class="font-bold text-primary mb-2 text-lg">Frontend</h4>
                        <p class="text-sm font-semibold text-gray-900 mb-1">Nuxt.js + Vue 3</p>
                        <p class="text-xs text-gray-500 leading-relaxed">Panel de control administrativo reactivo y
                            ligero.</p>
                    </div>
                    <!-- Component 4 -->
                    <div>
                        <h4 class="font-bold text-primary mb-2 text-lg">Infraestructura</h4>
                        <p class="text-sm font-semibold text-gray-900 mb-1">VPS Dedicado</p>
                        <p class="text-xs text-gray-500 leading-relaxed">Aislamiento de datos y cumplimiento normativo
                            local.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Data Story 1: AI Economics -->
        <section id="costos" class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
            <div>
                <div class="mb-6 border-b border-gray-200 pb-4">
                    <h2 class="text-2xl font-bold text-gray-900">2. Análisis de Costos IA</h2>
                </div>
                <p class="text-gray-700 mb-6 leading-relaxed text-justify">
                    El sistema utiliza Claude Haiku 4.5 con precios por token: $1/MTok input, $5/MTok output. Con
                    200 médicos registrados (~30% activos/día), el costo operativo de IA se mantiene extremadamente
                    bajo gracias a la eficiencia del modelo y un system prompt optimizado de ~2,800 tokens.
                </p>

                <table class="min-w-full text-sm text-left text-gray-600 mb-6 border border-gray-200">
                    <thead class="bg-gray-50 text-gray-900 font-serif">
                        <tr>
                            <th class="px-4 py-2 border-b">Métrica</th>
                            <th class="px-4 py-2 border-b">Proyección Mensual</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="px-4 py-2 border-b">Volumen Conversaciones</td>
                            <td class="px-4 py-2 border-b font-medium">4,200 / mes</td>
                        </tr>
                        <tr>
                            <td class="px-4 py-2 border-b">Input Tokens (Contexto)</td>
                            <td class="px-4 py-2 border-b">32 Millones</td>
                        </tr>
                        <tr>
                            <td class="px-4 py-2 border-b">Output Tokens (Respuestas)</td>
                            <td class="px-4 py-2 border-b">1.6 Millones</td>
                        </tr>
                        <tr>
                            <td class="px-4 py-2 border-b">Costo Input ($1/MTok)</td>
                            <td class="px-4 py-2 border-b">$32.00 USD</td>
                        </tr>
                        <tr>
                            <td class="px-4 py-2 border-b">Costo Output ($5/MTok)</td>
                            <td class="px-4 py-2 border-b">$8.00 USD</td>
                        </tr>
                        <tr>
                            <td class="px-4 py-2 font-bold text-primary">Costo IA Mensual</td>
                            <td class="px-4 py-2 font-bold text-primary">$40.00 USD</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="academic-card flex flex-col items-center justify-center bg-gray-50">
                <h3 class="text-sm font-bold text-gray-500 uppercase tracking-widest mb-6">Distribución de Recursos
                    (USD)</h3>
                <div class="chart-container" style="height: 300px;">
                    <canvas id="aiCostChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Data Story 2: Scalability -->
        <section>
            <div class="mb-8 border-b border-gray-200 pb-4">
                <h2 class="text-2xl font-bold text-gray-900">3. Proyección de Escalabilidad</h2>
            </div>
            <p class="text-gray-700 mb-8 max-w-3xl">
                Análisis comparativo del crecimiento de costos operativos frente al aumento de la planta médica. La
                curva demuestra una elasticidad de costos casi plana, ideal para la expansión de servicios de la
                Clínica.
            </p>

            <div class="academic-card">
                <div class="chart-container" style="max-width: 1000px; height: 380px;">
                    <canvas id="scalabilityChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Pricing Section -->
        <section id="pricing">
            <div class="mb-10 text-center">
                <h2 class="text-2xl font-bold text-gray-900">4. Propuesta Económica</h2>
                <p class="text-gray-500 mt-2">Opciones de implementación para Clínica Indisa</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Option A -->
                <div class="border border-gray-200 bg-white p-6">
                    <h3 class="font-serif text-lg font-bold text-gray-900">Modelo SaaS</h3>
                    <p class="text-xs text-gray-500 uppercase mb-4">Licenciamiento Individual</p>
                    <div class="text-3xl font-serif text-primary mb-1">$5.000 <span
                            class="text-sm text-gray-400 font-sans">CLP</span></div>
                    <div class="text-xs text-gray-500 mb-6">por médico / mes</div>
                    <ul class="text-sm space-y-2 text-gray-600 list-disc list-inside">
                        <li>Facturación variable</li>
                        <li>Gestión por usuario</li>
                    </ul>
                </div>

                <!-- Option C (Hero) -->
                <div class="border-2 border-primary bg-slate-50 p-6 relative">
                    <div class="absolute top-0 right-0 bg-primary text-white text-[10px] font-bold px-2 py-1 uppercase">
                        Recomendado</div>
                    <h3 class="font-serif text-lg font-bold text-primary">Modelo Híbrido</h3>
                    <p class="text-xs text-gray-500 uppercase mb-4">Setup + Mantenimiento</p>

                    <div class="flex justify-between items-end mb-2 border-b border-gray-200 pb-2">
                        <span class="text-sm text-gray-600">Implementación</span>
                        <span class="font-bold text-gray-900">$3.0M CLP</span>
                    </div>
                    <div class="flex justify-between items-end mb-6">
                        <span class="text-sm text-gray-600">Mensualidad</span>
                        <span class="font-bold text-xl text-primary">$800.000 CLP</span>
                    </div>

                    <p class="text-xs text-gray-600 mb-4 italic">Incluye 200 médicos, WhatsApp + Dashboard web, agente
                        IA, agendas visuales, broadcasts, soporte técnico y actualizaciones.</p>
                </div>

                <!-- Option B -->
                <div class="border border-gray-200 bg-white p-6">
                    <h3 class="font-serif text-lg font-bold text-gray-900">Enterprise</h3>
                    <p class="text-xs text-gray-500 uppercase mb-4">Tarifa Plana Institucional</p>
                    <div class="text-3xl font-serif text-gray-700 mb-1">$900k <span
                            class="text-sm text-gray-400 font-sans">CLP</span></div>
                    <div class="text-xs text-gray-500 mb-6">mensual fijo</div>
                    <ul class="text-sm space-y-2 text-gray-600 list-disc list-inside">
                        <li>Hasta 200 usuarios</li>
                        <li>Previsibilidad total</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- ROI Analysis -->
        <section id="roi" class="grid grid-cols-1 lg:grid-cols-2 gap-12 mt-16 border-t border-gray-200 pt-16">
            <div class="flex flex-col justify-center">
                <h2 class="text-2xl font-bold text-gray-900 mb-4">5. Retorno de Inversión (ROI)</h2>
                <div class="space-y-6">
                    <div class="bg-blue-50 border-l-4 border-primary p-4">
                        <h4 class="font-bold text-primary text-sm uppercase mb-1">El Costo de Oportunidad</h4>
                        <p class="text-sm text-gray-700 text-justify">
                            Datos internos sugieren que un pabellón inactivo por errores de coordinación representa una
                            pérdida de hasta <strong>$2.000.000 CLP por hora</strong>.
                        </p>
                    </div>
                    <p class="text-sm text-gray-600 leading-relaxed text-justify">
                        La implementación de Healthpixel ofrece una cobertura de riesgo completa por un costo mensual
                        inferior al salario de un técnico administrativo, con disponibilidad 24/7 y tiempos de respuesta
                        inmediatos.
                    </p>
                </div>
            </div>

            <div class="academic-card">
                <h3 class="text-sm font-bold text-gray-500 text-center mb-4">Comparativa de Costos Operativos Mensuales
                </h3>
                <div class="chart-container">
                    <canvas id="roiChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Signature/Footer Area -->
        <div class="mt-20 pt-10 border-t-2 border-gray-800 flex justify-between items-end">
            <div>
                <div class="font-serif font-bold text-2xl text-gray-900">Healthpixel</div>
                <div class="text-sm text-gray-500">Medical Technology Solutions</div>
            </div>
            <div class="text-right text-sm text-gray-500">
                <p>Documento generado para <strong>Clínica Indisa</strong></p>
                <p>Febrero 2026</p>
            </div>
        </div>

    </main>

    <script>
        // --- UTILITY: Label Wrapping Helper ---
        function formatLabel(str, maxwidth) {
            if (typeof str !== 'string' || str.length <= maxwidth) return str;
            var sections = [];
            var words = str.split(" ");
            var temp = "";
            words.forEach(function (item, index) {
                if (temp.length > 0) {
                    var concat = temp + ' ' + item;
                    if (concat.length > maxwidth) {
                        sections.push(temp);
                        temp = item;
                    } else {
                        temp = concat;
                    }
                } else {
                    temp = item;
                }
            });
            if (temp.length > 0) {
                sections.push(temp);
            }
            return sections;
        }

        // --- ACADEMIC CHART CONFIG ---
        Chart.defaults.font.family = "'Lato', sans-serif";
        Chart.defaults.color = '#475569'; // Slate 600
        Chart.defaults.scale.grid.color = '#f1f5f9'; // Slate 100

        const tooltipConfig = {
            callbacks: {
                title: function (tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(' ');
                    } else {
                        return label;
                    }
                }
            },
            backgroundColor: '#1e293b',
            titleFont: { family: "'Merriweather', serif" },
            padding: 12,
            cornerRadius: 4
        };

        // --- CHART 1: AI Cost Breakdown (Donut) ---
        // Colors: Clinical Blue, Teal, Slate
        const ctxAI = document.getElementById('aiCostChart').getContext('2d');
        new Chart(ctxAI, {
            type: 'doughnut',
            data: {
                labels: ['Input Tokens (Contexto)', 'Output Tokens (Respuestas)', 'Hosting/Infra'],
                datasets: [{
                    data: [32.00, 8.00, 25.00],
                    backgroundColor: [
                        '#004d7a', // Primary Blue
                        '#00bfa5', // Teal Accent
                        '#94a3b8'  // Slate Gray
                    ],
                    borderWidth: 1,
                    borderColor: '#ffffff',
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'right',
                        labels: { boxWidth: 12, usePointStyle: true, font: { size: 11 } }
                    },
                    tooltip: tooltipConfig,
                },
                cutout: '75%'
            }
        });

        // --- CHART 2: Scalability (Line/Bar) ---
        const scenarioLabels = ['Bajo (30 docs)', 'Medio (60 docs)', 'Alto (120 docs)', 'Pico (200 docs)'];
        const processedScenarioLabels = scenarioLabels.map(l => formatLabel(l, 16));

        const ctxScale = document.getElementById('scalabilityChart').getContext('2d');
        new Chart(ctxScale, {
            type: 'bar',
            data: {
                labels: processedScenarioLabels,
                datasets: [
                    {
                        label: 'Costo Operativo (USD)',
                        data: [35, 65, 115, 155],
                        backgroundColor: '#004d7a',
                        barPercentage: 0.5,
                        order: 2
                    },
                    {
                        label: 'Ingreso Ref. SaaS (USD)',
                        data: [150, 300, 600, 1000],
                        type: 'line',
                        borderColor: '#00bfa5', // Teal line
                        borderWidth: 2,
                        borderDash: [5, 5],
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#00bfa5',
                        pointRadius: 4,
                        tension: 0.1,
                        order: 1
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: tooltipConfig,
                    legend: { position: 'bottom' },
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { borderDash: [2, 2] }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });

        // --- CHART 3: ROI Analysis (Horizontal Bar) ---
        const roiLabels = ['Healthpixel (Mensual)', 'Secretaria (Sueldo)', 'ERP Tradicional', 'Costo 1h Pabellón Vacío'];
        const processedRoiLabels = roiLabels.map(l => formatLabel(l, 20));

        const ctxROI = document.getElementById('roiChart').getContext('2d');
        new Chart(ctxROI, {
            type: 'bar',
            data: {
                labels: processedRoiLabels,
                datasets: [{
                    label: 'Costo Estimado (CLP)',
                    data: [800000, 700000, 2000000, 1250000],
                    backgroundColor: [
                        '#004d7a', // Our solution (Primary)
                        '#cbd5e1', // Gray
                        '#cbd5e1', // Gray
                        '#c0392b'  // Alert Red
                    ],
                    barPercentage: 0.6,
                    borderRadius: 2
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: tooltipConfig,
                    legend: { display: false }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        ticks: {
                            callback: function (value) {
                                return '$' + value / 1000000 + 'M';
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>

</html>